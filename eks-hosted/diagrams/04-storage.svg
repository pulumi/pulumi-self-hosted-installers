<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="-8 -8 1617.3203125 618" style="max-width: 1617.32px; background-color: white;" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="my-svg"><style>#my-svg{font-size:18px;fill:#333;}#my-svg .error-icon{fill:hsl(220.5882352941, 100%, 98.3333333333%);}#my-svg .error-text{fill:rgb(8.5000000002, 5.7500000001, 0);stroke:rgb(8.5000000002, 5.7500000001, 0);}#my-svg .edge-thickness-normal{stroke-width:2px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#0b0b0b;stroke:#0b0b0b;}#my-svg .marker.cross{stroke:#0b0b0b;}#my-svg svg{font-size:18px;}#my-svg .label{color:#333;}#my-svg .cluster-label text{fill:rgb(8.5000000002, 5.7500000001, 0);}#my-svg .cluster-label span,#my-svg p{color:rgb(8.5000000002, 5.7500000001, 0);}#my-svg .label text,#my-svg span,#my-svg p{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#fff4dd;stroke:hsl(40.5882352941, 60%, 83.3333333333%);stroke-width:1px;}#my-svg .flowchart-label text{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .node .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .arrowheadPath{fill:#0b0b0b;}#my-svg .edgePath .path{stroke:#0b0b0b;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#0b0b0b;fill:none;}#my-svg .edgeLabel{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);text-align:center;}#my-svg .edgeLabel rect{opacity:0.5;background-color:hsl(-79.4117647059, 100%, 93.3333333333%);fill:hsl(-79.4117647059, 100%, 93.3333333333%);}#my-svg .labelBkg{background-color:rgba(243.9999999999, 220.9999999998, 255, 0.5);}#my-svg .cluster rect{fill:hsl(220.5882352941, 100%, 98.3333333333%);stroke:hsl(220.5882352941, 60%, 88.3333333333%);stroke-width:1px;}#my-svg .cluster text{fill:rgb(8.5000000002, 5.7500000001, 0);}#my-svg .cluster span,#my-svg p{color:rgb(8.5000000002, 5.7500000001, 0);}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-size:12px;background:hsl(220.5882352941, 100%, 98.3333333333%);border:1px solid hsl(220.5882352941, 60%, 88.3333333333%);border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#my-svg .storage&gt;*{fill:#3F8624!important;stroke:#FFFFFF!important;stroke-width:3px!important;color:#FFFFFF!important;font-size:14px!important;}#my-svg .storage span{fill:#3F8624!important;stroke:#FFFFFF!important;stroke-width:3px!important;color:#FFFFFF!important;font-size:14px!important;}#my-svg .storage tspan{fill:#FFFFFF!important;}#my-svg .aws&gt;*{fill:#FF9900!important;stroke:#232F3E!important;stroke-width:3px!important;color:#FFFFFF!important;font-size:14px!important;}#my-svg .aws span{fill:#FF9900!important;stroke:#232F3E!important;stroke-width:3px!important;color:#FFFFFF!important;font-size:14px!important;}#my-svg .aws tspan{fill:#FFFFFF!important;}#my-svg .security&gt;*{fill:#8B0000!important;stroke:#FFFFFF!important;stroke-width:3px!important;color:#FFFFFF!important;font-size:14px!important;}#my-svg .security span{fill:#8B0000!important;stroke:#FFFFFF!important;stroke-width:3px!important;color:#FFFFFF!important;font-size:14px!important;}#my-svg .security tspan{fill:#FFFFFF!important;}</style><g><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="6" viewBox="0 0 10 10" class="marker flowchart" id="my-svg_flowchart-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"/></marker><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart" id="my-svg_flowchart-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart" id="my-svg_flowchart-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart" id="my-svg_flowchart-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart" id="my-svg_flowchart-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart" id="my-svg_flowchart-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><g class="root"><g class="clusters"><g id="SECURITY" class="cluster default flowchart-label"><rect height="602" width="243.046875" y="0" x="0" ry="0" rx="0" style=""/><g transform="translate(41.015625, 0)" class="cluster-label"><foreignObject height="21" width="161.015625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Security &amp; Access</span></div></foreignObject></g></g><g id="STORAGE" class="cluster default flowchart-label"><rect height="464" width="1338.2734375" y="138" x="263.046875" ry="0" rx="0" style=""/><g transform="translate(783.76953125, 138)" class="cluster-label"><foreignObject height="21" width="296.828125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Storage Layer: Database &amp; State</span></div></foreignObject></g></g><g id="RDS_LAYER" class="cluster default flowchart-label"><rect height="414" width="418.3828125" y="163" x="881.40625" ry="0" rx="0" style=""/><g transform="translate(970.14453125, 163)" class="cluster-label"><foreignObject height="21" width="240.90625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">20-database: Amazon RDS</span></div></foreignObject></g></g><g id="STATE_LAYER" class="cluster default flowchart-label"><rect height="113" width="578.359375" y="163" x="283.046875" ry="0" rx="0" style=""/><g transform="translate(412.1484375, 163)" class="cluster-label"><foreignObject height="21" width="320.15625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">15-state-policies-mgmt: S3 Storage</span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-AURORA LE-DB_SUBNET" id="L-AURORA-DB_SUBNET-0" d="M1036.518,251L1029.495,255.167C1022.472,259.333,1008.425,267.667,1001.402,276C994.379,284.333,994.379,292.667,994.379,313.7C994.379,334.733,994.379,368.467,994.379,385.333L994.379,402.2"/><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-AURORA LE-DB_SECURITY" id="L-AURORA-DB_SECURITY-0" d="M1142.709,251L1149.732,255.167C1156.755,259.333,1170.801,267.667,1177.824,276C1184.848,284.333,1184.848,292.667,1184.848,313.7C1184.848,334.733,1184.848,368.467,1184.848,385.333L1184.848,402.2"/><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-S3_CHECKPOINTS LE-IAM_POLICIES" id="L-S3_CHECKPOINTS-IAM_POLICIES-0" d="M394.484,251L394.484,255.167C394.484,259.333,394.484,267.667,394.484,276C394.484,284.333,394.484,292.667,359.706,314.416C324.928,336.165,255.372,371.331,220.594,388.913L185.816,406.496"/><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-S3_POLICIES LE-IAM_POLICIES" id="L-S3_POLICIES-IAM_POLICIES-0" d="M579.914,251L579.914,255.167C579.914,259.333,579.914,267.667,579.914,276C579.914,284.333,579.914,292.667,514.289,316.59C448.663,340.514,317.412,380.027,251.786,399.784L186.161,419.541"/><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-S3_METADATA LE-IAM_POLICIES" id="L-S3_METADATA-IAM_POLICIES-0" d="M757.656,251L757.656,255.167C757.656,259.333,757.656,267.667,757.656,276C757.656,284.333,757.656,292.667,662.424,317.493C567.193,342.318,376.729,383.637,281.497,404.296L186.265,424.955"/><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-KMS LE-AURORA" id="L-KMS-AURORA-0" d="M149.824,88L153.568,92.167C157.311,96.333,164.798,104.667,168.542,113C172.285,121.333,172.285,129.667,172.285,138C172.285,146.333,172.285,154.667,309.678,167.296C447.071,179.925,721.857,196.849,859.251,205.312L996.644,213.774"/><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-KMS LE-S3_CHECKPOINTS" id="L-KMS-S3_CHECKPOINTS-0" d="M93.223,88L89.479,92.167C85.736,96.333,78.249,104.667,74.505,113C70.762,121.333,70.762,129.667,70.762,138C70.762,146.333,70.762,154.667,111.106,165.875C151.45,177.083,232.138,191.165,272.482,198.207L312.826,205.248"/></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(121.5234375, 56.5)" data-id="KMS" data-node="true" id="flowchart-KMS-8" class="node default security flowchart-label"><rect height="63" width="173.046875" y="-31.5" x="-86.5234375" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-79.0234375, -24)" style="" class="label"><rect/><foreignObject height="48" width="158.046875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">AWS Key Management<br />Encryption Keys<br />Data Protection</span></div></foreignObject></g></g><g transform="translate(121.5234375, 439)" data-id="IAM_POLICIES" data-node="true" id="flowchart-IAM_POLICIES-9" class="node default aws flowchart-label"><rect height="63" width="119.125" y="-31.5" x="-59.5625" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-52.0625, -24)" style="" class="label"><rect/><foreignObject height="48" width="104.125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">IAM Policies<br />Service Access<br />Least Privilege</span></div></foreignObject></g></g><g transform="translate(1327.2890625, 318)" class="root"><g class="clusters"><g id="SEARCH_LAYER" class="cluster default flowchart-label"><rect height="226" width="231.53125" y="8" x="8" ry="0" rx="0" style=""/><g transform="translate(13.1796875, 8)" class="cluster-label"><foreignObject height="21" width="221.171875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">25-insights: OpenSearch</span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-OPENSEARCH LE-OS_DOMAIN" id="L-OPENSEARCH-OS_DOMAIN-0" d="M123.766,96L123.766,100.167C123.766,104.333,123.766,112.667,123.766,120.117C123.766,127.567,123.766,134.133,123.766,137.417L123.766,140.7"/></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(123.765625, 64.5)" data-id="OPENSEARCH" data-node="true" id="flowchart-OPENSEARCH-6" class="node default storage flowchart-label"><rect height="63" width="161.53125" y="-31.5" x="-80.765625" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-73.265625, -24)" style="" class="label"><rect/><foreignObject height="48" width="146.53125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Amazon OpenSearch<br />Resource Search<br />Analytics Engine</span></div></foreignObject></g></g><g transform="translate(123.765625, 177.5)" data-id="OS_DOMAIN" data-node="true" id="flowchart-OS_DOMAIN-7" class="node default storage flowchart-label"><rect height="63" width="159.265625" y="-31.5" x="-79.6328125" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-72.1328125, -24)" style="" class="label"><rect/><foreignObject height="48" width="144.265625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">OpenSearch Domain<br />VPC Deployment<br />Fine-grained Access</span></div></foreignObject></g></g></g></g><g transform="translate(394.484375, 219.5)" data-id="S3_CHECKPOINTS" data-node="true" id="flowchart-S3_CHECKPOINTS-3" class="node default storage flowchart-label"><rect height="63" width="152.875" y="-31.5" x="-76.4375" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-68.9375, -24)" style="" class="label"><rect/><foreignObject height="48" width="137.875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">S3 Bucket<br />Pulumi Checkpoints<br />Versioning Enabled</span></div></foreignObject></g></g><g transform="translate(579.9140625, 219.5)" data-id="S3_POLICIES" data-node="true" id="flowchart-S3_POLICIES-4" class="node default storage flowchart-label"><rect height="63" width="117.984375" y="-31.5" x="-58.9921875" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-51.4921875, -24)" style="" class="label"><rect/><foreignObject height="48" width="102.984375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">S3 Bucket<br />Policy Packs<br />Access Control</span></div></foreignObject></g></g><g transform="translate(757.65625, 219.5)" data-id="S3_METADATA" data-node="true" id="flowchart-S3_METADATA-5" class="node default storage flowchart-label"><rect height="63" width="137.5" y="-31.5" x="-68.75" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-61.25, -24)" style="" class="label"><rect/><foreignObject height="48" width="122.5"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">S3 Bucket<br />Service Metadata<br />Configuration</span></div></foreignObject></g></g><g transform="translate(1089.61328125, 219.5)" data-id="AURORA" data-node="true" id="flowchart-AURORA-0" class="node default storage flowchart-label"><rect height="63" width="175.359375" y="-31.5" x="-87.6796875" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-80.1796875, -24)" style="" class="label"><rect/><foreignObject height="48" width="160.359375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Amazon Aurora MySQL<br />Multi-AZ Cluster<br />Automated Backups</span></div></foreignObject></g></g><g transform="translate(994.37890625, 439)" data-id="DB_SUBNET" data-node="true" id="flowchart-DB_SUBNET-1" class="node default storage flowchart-label"><rect height="63" width="136.53125" y="-31.5" x="-68.265625" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-60.765625, -24)" style="" class="label"><rect/><foreignObject height="48" width="121.53125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">DB Subnet Group<br />Private Subnets<br />VPC Isolation</span></div></foreignObject></g></g><g transform="translate(1184.84765625, 439)" data-id="DB_SECURITY" data-node="true" id="flowchart-DB_SECURITY-2" class="node default security flowchart-label"><rect height="63" width="144.40625" y="-31.5" x="-72.203125" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-64.703125, -24)" style="" class="label"><rect/><foreignObject height="48" width="129.40625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">DB Security Group<br />Port 3306<br />EKS Access Only</span></div></foreignObject></g></g></g></g></g></svg>